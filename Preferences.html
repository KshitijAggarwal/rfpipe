
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Search Preferences &#8212; rfpipe 0.9.6 documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.9.6',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Observational Metadata" href="Metadata.html" />
    <link rel="prev" title="Search State" href="State.html" /> 
  </head>
  <body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="Metadata.html" title="Observational Metadata"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="State.html" title="Search State"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">rfpipe 0.9.6 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="Concepts.html" accesskey="U">Concepts</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="search-preferences">
<h1>Search Preferences<a class="headerlink" href="#search-preferences" title="Permalink to this headline">Â¶</a></h1>
<p>Preferences are a way for a user to define how a transient search for any kind of data/metadata. Preferences have sensible defaults, so the state can be defined even if no preferences are provided.</p>
<p>The most commonly used preferences define the search parameters (e.g., the range of dispersion measures), the computational limits (e.g., the maximum memory or maximum image size), and the search algorithm (e.g., CUDA or FFTW imaging).</p>
<p>The simplest way to define the search preferences is by passing arguments during the definition of the State object. This call can take a file as input (a preffile) and overload preference values with the inprefs (a dict).</p>
<p>The most common way of modifying <code class="docutils literal"><span class="pre">Preferences</span></code> is during the definition of the <code class="docutils literal"><span class="pre">State</span></code>. To modify the preferences with an input dict:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="kn">import</span> <span class="nn">rfpipe</span><span class="p">;</span> <span class="kn">from</span> <span class="nn">astropy</span> <span class="k">import</span> <span class="n">time</span>
<span class="o">&gt;</span> <span class="n">t0</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">Time</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">mjd</span>
<span class="o">&gt;</span> <span class="n">t1</span> <span class="o">=</span> <span class="n">t0</span><span class="o">+</span><span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="mi">24</span><span class="o">*</span><span class="mf">3600.</span><span class="p">)</span>
<span class="o">&gt;</span> <span class="n">inmeta</span> <span class="o">=</span> <span class="n">rfpipe</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">mock_metadata</span><span class="p">(</span><span class="n">t0</span><span class="p">,</span> <span class="n">t1</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">1024</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mf">10e3</span><span class="p">,</span> <span class="n">datasource</span><span class="o">=</span><span class="s1">&#39;vys&#39;</span><span class="p">,</span> <span class="n">datasetid</span><span class="o">=</span><span class="s1">&#39;test&#39;</span><span class="p">)</span>
<span class="o">&gt;</span> <span class="n">inprefs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;maxdm&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span> <span class="s1">&#39;memory_limit&#39;</span><span class="p">:</span> <span class="mf">1.</span><span class="p">}</span>
<span class="o">&gt;</span> <span class="n">st</span> <span class="o">=</span> <span class="n">rfpipe</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">State</span><span class="p">(</span><span class="n">inmeta</span><span class="o">=</span><span class="n">inmeta</span><span class="p">)</span>
<span class="mi">2018</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">16</span> <span class="mi">14</span><span class="p">:</span><span class="mi">02</span><span class="p">:</span><span class="mi">55</span><span class="p">,</span><span class="mi">045</span> <span class="o">-</span> <span class="n">rfpipe</span><span class="o">.</span><span class="n">metadata</span> <span class="o">-</span> <span class="n">INFO</span> <span class="o">-</span> <span class="n">Generating</span> <span class="n">mock</span> <span class="n">metadata</span>
<span class="mi">2018</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">16</span> <span class="mi">14</span><span class="p">:</span><span class="mi">02</span><span class="p">:</span><span class="mi">55</span><span class="p">,</span><span class="mi">101</span> <span class="o">-</span> <span class="n">rfpipe</span><span class="o">.</span><span class="n">state</span> <span class="o">-</span> <span class="n">INFO</span> <span class="o">-</span> <span class="n">Metadata</span> <span class="n">summary</span><span class="p">:</span>
<span class="mi">2018</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">16</span> <span class="mi">14</span><span class="p">:</span><span class="mi">02</span><span class="p">:</span><span class="mi">55</span><span class="p">,</span><span class="mi">101</span> <span class="o">-</span> <span class="n">rfpipe</span><span class="o">.</span><span class="n">state</span> <span class="o">-</span> <span class="n">INFO</span> <span class="o">-</span>      <span class="n">Working</span> <span class="n">directory</span> <span class="ow">and</span> <span class="n">fileroot</span><span class="p">:</span> <span class="o">/</span><span class="n">lustre</span><span class="o">/</span><span class="n">evla</span><span class="o">/</span><span class="n">test</span><span class="o">/</span><span class="n">realfast</span><span class="p">,</span> <span class="n">test</span><span class="o">.</span><span class="mf">1.1</span>
<span class="mi">2018</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">16</span> <span class="mi">14</span><span class="p">:</span><span class="mi">02</span><span class="p">:</span><span class="mi">55</span><span class="p">,</span><span class="mi">101</span> <span class="o">-</span> <span class="n">rfpipe</span><span class="o">.</span><span class="n">state</span> <span class="o">-</span> <span class="n">INFO</span> <span class="o">-</span>      <span class="n">Using</span> <span class="n">scan</span> <span class="mi">1</span><span class="p">,</span> <span class="n">source</span> <span class="n">testsource</span>
<span class="mi">2018</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">16</span> <span class="mi">14</span><span class="p">:</span><span class="mi">02</span><span class="p">:</span><span class="mi">55</span><span class="p">,</span><span class="mi">102</span> <span class="o">-</span> <span class="n">rfpipe</span><span class="o">.</span><span class="n">state</span> <span class="o">-</span> <span class="n">INFO</span> <span class="o">-</span>      <span class="n">nants</span><span class="p">,</span> <span class="n">nbl</span><span class="p">:</span> <span class="mi">27</span><span class="p">,</span> <span class="mi">351</span>
<span class="mi">2018</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">16</span> <span class="mi">14</span><span class="p">:</span><span class="mi">02</span><span class="p">:</span><span class="mi">55</span><span class="p">,</span><span class="mi">102</span> <span class="o">-</span> <span class="n">rfpipe</span><span class="o">.</span><span class="n">state</span> <span class="o">-</span> <span class="n">INFO</span> <span class="o">-</span>      <span class="n">nchan</span><span class="p">,</span> <span class="n">nspw</span><span class="p">:</span> <span class="mi">1024</span><span class="p">,</span> <span class="mi">32</span>
<span class="mi">2018</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">16</span> <span class="mi">14</span><span class="p">:</span><span class="mi">02</span><span class="p">:</span><span class="mi">55</span><span class="p">,</span><span class="mi">104</span> <span class="o">-</span> <span class="n">rfpipe</span><span class="o">.</span><span class="n">state</span> <span class="o">-</span> <span class="n">INFO</span> <span class="o">-</span>      <span class="n">Freq</span> <span class="nb">range</span><span class="p">:</span> <span class="mf">2.000</span> <span class="o">--</span> <span class="mf">4.000</span>
<span class="mi">2018</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">16</span> <span class="mi">14</span><span class="p">:</span><span class="mi">02</span><span class="p">:</span><span class="mi">55</span><span class="p">,</span><span class="mi">104</span> <span class="o">-</span> <span class="n">rfpipe</span><span class="o">.</span><span class="n">state</span> <span class="o">-</span> <span class="n">INFO</span> <span class="o">-</span>      <span class="n">Scan</span> <span class="n">has</span> <span class="mi">100</span> <span class="n">ints</span> <span class="p">(</span><span class="mf">1.0</span> <span class="n">s</span><span class="p">)</span> <span class="ow">and</span> <span class="n">inttime</span> <span class="mf">0.010</span> <span class="n">s</span>
<span class="mi">2018</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">16</span> <span class="mi">14</span><span class="p">:</span><span class="mi">02</span><span class="p">:</span><span class="mi">55</span><span class="p">,</span><span class="mi">105</span> <span class="o">-</span> <span class="n">rfpipe</span><span class="o">.</span><span class="n">state</span> <span class="o">-</span> <span class="n">INFO</span> <span class="o">-</span>      <span class="mi">4</span> <span class="n">polarizations</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;A*A&#39;</span><span class="p">,</span> <span class="s1">&#39;A*B&#39;</span><span class="p">,</span> <span class="s1">&#39;B*A&#39;</span><span class="p">,</span> <span class="s1">&#39;B*B&#39;</span><span class="p">]</span>
<span class="mi">2018</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">16</span> <span class="mi">14</span><span class="p">:</span><span class="mi">02</span><span class="p">:</span><span class="mi">55</span><span class="p">,</span><span class="mi">106</span> <span class="o">-</span> <span class="n">rfpipe</span><span class="o">.</span><span class="n">state</span> <span class="o">-</span> <span class="n">INFO</span> <span class="o">-</span>      <span class="n">Ideal</span> <span class="n">uvgrid</span> <span class="n">npix</span><span class="o">=</span><span class="p">(</span><span class="mi">2592</span><span class="p">,</span> <span class="mi">2304</span><span class="p">)</span> <span class="ow">and</span> <span class="n">res</span><span class="o">=</span><span class="mi">83</span> <span class="p">(</span><span class="n">oversample</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="mi">2018</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">16</span> <span class="mi">14</span><span class="p">:</span><span class="mi">02</span><span class="p">:</span><span class="mi">55</span><span class="p">,</span><span class="mi">106</span> <span class="o">-</span> <span class="n">rfpipe</span><span class="o">.</span><span class="n">state</span> <span class="o">-</span> <span class="n">INFO</span> <span class="o">-</span> <span class="n">Pipeline</span> <span class="n">summary</span><span class="p">:</span>
<span class="mi">2018</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">16</span> <span class="mi">14</span><span class="p">:</span><span class="mi">02</span><span class="p">:</span><span class="mi">55</span><span class="p">,</span><span class="mi">106</span> <span class="o">-</span> <span class="n">rfpipe</span><span class="o">.</span><span class="n">state</span> <span class="o">-</span> <span class="n">INFO</span> <span class="o">-</span>      <span class="n">Using</span> <span class="mi">11</span> <span class="n">segments</span> <span class="n">of</span> <span class="mi">16</span> <span class="n">ints</span> <span class="p">(</span><span class="mf">0.2</span> <span class="n">s</span><span class="p">)</span> <span class="k">with</span> <span class="n">overlap</span> <span class="n">of</span> <span class="mf">0.1</span> <span class="n">s</span>
<span class="mi">2018</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">16</span> <span class="mi">14</span><span class="p">:</span><span class="mi">02</span><span class="p">:</span><span class="mi">55</span><span class="p">,</span><span class="mi">106</span> <span class="o">-</span> <span class="n">rfpipe</span><span class="o">.</span><span class="n">state</span> <span class="o">-</span> <span class="n">INFO</span> <span class="o">-</span>      <span class="n">Searching</span> <span class="mi">96</span> <span class="n">of</span> <span class="mi">100</span> <span class="n">ints</span> <span class="ow">in</span> <span class="n">scan</span>
<span class="mi">2018</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">16</span> <span class="mi">14</span><span class="p">:</span><span class="mi">02</span><span class="p">:</span><span class="mi">55</span><span class="p">,</span><span class="mi">106</span> <span class="o">-</span> <span class="n">rfpipe</span><span class="o">.</span><span class="n">state</span> <span class="o">-</span> <span class="n">INFO</span> <span class="o">-</span>      <span class="n">Using</span> <span class="n">pols</span> <span class="p">[</span><span class="s1">&#39;A*A&#39;</span><span class="p">,</span> <span class="s1">&#39;B*B&#39;</span><span class="p">]</span>
<span class="mi">2018</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">16</span> <span class="mi">14</span><span class="p">:</span><span class="mi">02</span><span class="p">:</span><span class="mi">55</span><span class="p">,</span><span class="mi">108</span> <span class="o">-</span> <span class="n">rfpipe</span><span class="o">.</span><span class="n">state</span> <span class="o">-</span> <span class="n">WARNING</span> <span class="o">-</span>   <span class="n">Gainfile</span> <span class="n">preference</span> <span class="p">(</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">mchammer</span><span class="o">/</span><span class="n">evladata</span><span class="o">/</span><span class="n">telcal</span><span class="o">/</span><span class="mi">2018</span><span class="o">/</span><span class="mi">04</span><span class="o">/</span><span class="n">test</span><span class="o">.</span><span class="n">GN</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">a</span> <span class="n">telcal</span> <span class="n">file</span>
<span class="mi">2018</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">16</span> <span class="mi">14</span><span class="p">:</span><span class="mi">02</span><span class="p">:</span><span class="mi">55</span><span class="p">,</span><span class="mi">108</span> <span class="o">-</span> <span class="n">rfpipe</span><span class="o">.</span><span class="n">state</span> <span class="o">-</span> <span class="n">INFO</span> <span class="o">-</span>
<span class="mi">2018</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">16</span> <span class="mi">14</span><span class="p">:</span><span class="mi">02</span><span class="p">:</span><span class="mi">55</span><span class="p">,</span><span class="mi">108</span> <span class="o">-</span> <span class="n">rfpipe</span><span class="o">.</span><span class="n">state</span> <span class="o">-</span> <span class="n">INFO</span> <span class="o">-</span>      <span class="n">Using</span> <span class="n">fftw</span> <span class="k">for</span> <span class="n">image1</span> <span class="n">search</span> <span class="n">at</span> <span class="mi">7</span> <span class="n">sigma</span> <span class="n">using</span> <span class="mi">1</span> <span class="n">thread</span><span class="o">.</span>
<span class="mi">2018</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">16</span> <span class="mi">14</span><span class="p">:</span><span class="mi">02</span><span class="p">:</span><span class="mi">55</span><span class="p">,</span><span class="mi">108</span> <span class="o">-</span> <span class="n">rfpipe</span><span class="o">.</span><span class="n">state</span> <span class="o">-</span> <span class="n">INFO</span> <span class="o">-</span>      <span class="n">Using</span> <span class="mi">7</span> <span class="n">DMs</span> <span class="kn">from</span> <span class="mf">0.0</span> <span class="n">to</span> <span class="mf">97.5</span> <span class="ow">and</span> <span class="n">dts</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span>
<span class="mi">2018</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">16</span> <span class="mi">14</span><span class="p">:</span><span class="mi">02</span><span class="p">:</span><span class="mi">55</span><span class="p">,</span><span class="mi">109</span> <span class="o">-</span> <span class="n">rfpipe</span><span class="o">.</span><span class="n">state</span> <span class="o">-</span> <span class="n">INFO</span> <span class="o">-</span>      <span class="n">Using</span> <span class="n">uvgrid</span> <span class="n">npix</span><span class="o">=</span><span class="p">(</span><span class="mi">2592</span><span class="p">,</span> <span class="mi">2304</span><span class="p">)</span> <span class="ow">and</span> <span class="n">res</span><span class="o">=</span><span class="mi">83</span> <span class="k">with</span> <span class="mi">16</span> <span class="nb">int</span> <span class="n">chunks</span><span class="o">.</span>
<span class="mi">2018</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">16</span> <span class="mi">14</span><span class="p">:</span><span class="mi">02</span><span class="p">:</span><span class="mi">55</span><span class="p">,</span><span class="mi">109</span> <span class="o">-</span> <span class="n">rfpipe</span><span class="o">.</span><span class="n">state</span> <span class="o">-</span> <span class="n">INFO</span> <span class="o">-</span>      <span class="n">Expect</span> <span class="mi">0</span> <span class="n">thermal</span> <span class="n">false</span> <span class="n">positives</span> <span class="n">per</span> <span class="n">scan</span><span class="o">.</span>
<span class="mi">2018</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">16</span> <span class="mi">14</span><span class="p">:</span><span class="mi">02</span><span class="p">:</span><span class="mi">55</span><span class="p">,</span><span class="mi">110</span> <span class="o">-</span> <span class="n">rfpipe</span><span class="o">.</span><span class="n">state</span> <span class="o">-</span> <span class="n">INFO</span> <span class="o">-</span>
<span class="mi">2018</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">16</span> <span class="mi">14</span><span class="p">:</span><span class="mi">02</span><span class="p">:</span><span class="mi">55</span><span class="p">,</span><span class="mi">111</span> <span class="o">-</span> <span class="n">rfpipe</span><span class="o">.</span><span class="n">state</span> <span class="o">-</span> <span class="n">INFO</span> <span class="o">-</span>      <span class="n">Visibility</span><span class="o">/</span><span class="n">image</span> <span class="n">memory</span> <span class="n">usage</span> <span class="ow">is</span> <span class="mf">0.184025088</span><span class="o">/</span><span class="mf">0.764411904</span> <span class="n">GB</span><span class="o">/</span><span class="n">segment</span> <span class="n">when</span> <span class="n">using</span> <span class="n">fftw</span> <span class="n">imaging</span><span class="o">.</span>
</pre></div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/favicon.ico.png" alt="Logo"/>
            </a></p>
  <h4>Previous topic</h4>
  <p class="topless"><a href="State.html"
                        title="previous chapter">Search State</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="Metadata.html"
                        title="next chapter">Observational Metadata</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/Preferences.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="Metadata.html" title="Observational Metadata"
             >next</a> |</li>
        <li class="right" >
          <a href="State.html" title="Search State"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">rfpipe 0.9.6 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="Concepts.html" >Concepts</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2017, Casey Law.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.4.
    </div>
  </body>
</html>